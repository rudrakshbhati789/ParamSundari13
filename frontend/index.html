<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Param Sundari – Custom Clothes</title>

<style>
body { margin:0; font-family:Poppins; background:#000; color:#fff; }
nav { background:#000; padding:15px 20px; display:flex; gap:15px; position:sticky; top:0; }
nav a { color:#ffb5c8; text-decoration:none; font-weight:600; }
.hero { background:#111; padding:50px 20px; text-align:center; }
.hero h1 { color:#ffb5c8; text-shadow:0 0 20px #ffb5c8; }
.section-title { text-align:center; margin:20px 0; color:#ffb5c8; font-size:22px; }
.scroller { display:flex; overflow-x:auto; gap:15px; padding:15px; }
.product-card { min-width:170px; background:#111; border:1px solid #ffb5c8; border-radius:12px; padding:10px; }
.product-card img { height:180px; width:100%; object-fit:cover; }
.review-card { background:#111; border:1px solid #ffb5c8; margin:10px; padding:10px; border-radius:10px; }
</style>
</head>

<body>

<nav>
    <a href="index.html">Home</a>
    <a href="product.html">Products</a>
    <a href="cart.html">Cart</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
</nav>

<div class="hero">
    <h1>Param Sundari by Sweeta<br>Custom Clothes for Couples</h1>
</div>

<h2 class="section-title">Top Selling Products</h2>
<div id="top-selling" class="scroller">Loading...</div>

<h2 class="section-title">Customer Reviews</h2>
<div id="reviews"></div>

<script>
const backendURL = "https://backend-0slk.onrender.com";

async function loadTopSelling() {
    let res = await fetch(`${backendURL}/api/products`);
    let products = await res.json();
    let top = products.filter(p => p.topSelling === true);

    const box = document.getElementById("top-selling");
    box.innerHTML = "";

    top.forEach(p => {
        box.innerHTML += `
        <div class="product-card">
            <img src="${backendURL}${p.image}">
            <h3>${p.name}</h3>
            <p>₹${p.price}</p>
        </div>`;
    });
}
loadTopSelling();

async function loadReviews() {
    let res = await fetch(`${backendURL}/api/reviews`);
    let reviews = await res.json();

    const box = document.getElementById("reviews");
    box.innerHTML = "";

    reviews.forEach(r => {
        box.innerHTML += `
        <div class="review-card">
            <h4>${r.name}</h4>
            <p>${r.message}</p>
            <small>${r.date}</small>
        </div>`;
    });
}
loadReviews();
</script>

</body>
</html>
